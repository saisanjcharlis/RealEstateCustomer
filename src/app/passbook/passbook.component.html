<app-navbar></app-navbar>

<div class="container">
    <div>
        <span class="containerHeader">Passbooks <div  *ngIf="props!=null" class="ui green label">{{props.length}}</div></span><button class="ui  green button" (click)="addPassbook()" style="float:right;margin-top:15px;"><i class="plus icon"></i>Add Passbook</button>
        
        <div class="boxContainer"  *ngIf="props==null">
          <div >
              <span><i class="city blue large icon" ></i>You have no owned properties</span>
              <br><div style="margin-left:28px;">Browse to stay up to date on price and status changes.</div>
              <br>
              <button routerLink="/projects"  style="margin-left:28px;margin-top:10px;" class="ui button blue">Browse Properties</button>
          </div>
        </div>


        <div class="ui items projectItems">
          <div  *ngFor="let prop of props" class="item" style="overflow: visible;">
                  <div class="ui small image">
                    <img [src]="prop.project_id== 24 ? 'assets/viceroyceIcon.png' : 'http://www.spectraindia.in/wp-content/uploads/2016/10/diamond.jpg'" >
                  </div>
                  <div class="middle aligned content">
                    <div class="header" style="width: 100%;display:flex;align-items: center;justify-content: space-between;">
                      <span style="flex:1 0 auto;">{{prop.project_name.capitalizeEachWord()}}
                        

                        <div  style="float:right;"  class="ui menued icon bottom right dropdown">
                          <i style="cursor:pointer" class="ui blue icon ellipsis vertical"></i> 
                          <div class="menu">
                            <div class="item" (click)="viewProject(prop.project_id)">View Project</div>
                            <div class="item" (click)="viewTrans(prop)">Transactions</div>
                          </div>
                        </div>
                        </span>
                    </div>
                    <div style="margin-top:20px;" class="description"  >
                        <div class="ui celled horizontal list">
                            <div class="item">
                                <div class="infoValue">{{prop.plot_no}}</div>
                                <div class="infoLabel">Plot Number</div>
                            </div>
                            <div class="item">
                              <div class="infoValue">{{prop.passbook_no}}</div>
                              <div class="infoLabel">Passbook Number</div>
                           </div>
                            <div class="item">
                                <div class="infoValue">₹ {{prop.actual_cost}}<span style="font-size: 14px;font-weight: 500;"></span></div>
                                <div class="infoLabel">Plot Worth</div>
                            </div>
                            <div class="item">
                                <div class="infoValue">₹ {{prop.installment_amount}}<span style="font-size: 14px;font-weight: 500;"></span></div>
                                <div class="infoLabel">EMI Amount</div>
                            </div>
                            <div class="item">
                              <div class="infoValue">{{prop.installment_tenure}} months<span style="font-size: 14px;font-weight: 500;"></span></div>
                              <div class="infoLabel">Tenure</div>
                          </div>
                          <div class="item">
                              <div class="infoValue">{{prop.emi_num}}<span style="font-size: 14px;font-weight: 500;"></span></div>
                              <div class="infoLabel">Total EMI's paid</div>
                          </div>
                          <div class="item">
                            <div class="infoValue">₹ {{prop.total_payable}} <span style="font-size: 14px;font-weight: 500;"></span></div>
                            <div class="infoLabel">Total Payable</div>
                        </div>
                        </div>
                    </div>
                  </div>
          </div>
        </div>


        <!-- <div class="boxContainer" *ngFor="let project of projects">
          
          <div class="propContainer">
              <span style="font-weight: bold;"><i class="city blue large icon" ></i>Spectra Galaxy</span>
              <div class="propertyInfo">
                  <span>Plot Number</span><span class="propertyInfoColor">214</span>
                  <span>Passbook Number</span><span class="propertyInfoColor">3453453</span>
                  <span>Property Worth</span><span class="propertyInfoColor">18 Cr.</span>
                  <span>Facing</span><span class="propertyInfoColor">North Facing</span>
                  <span>Plot Size</span><span class="propertyInfoColor">400 sqyd</span>
                  <span>Next EMI</span><span class="propertyInfoColor">24th Aug 2019</span>
                  <span>EMI Amount</span><span class="propertyInfoColor" >18000</span>
                  <span>EMI's Remaining</span><span class="propertyInfoColor">24 months</span>
              </div>
              <button (mouseenter)="mouseHover($event)" (mouseleave)="mouseLeave($event)" class="ui button basic blue manageButton" routerLink="/transactions">View Transaction</button>
              <button (mouseenter)="mouseHover($event)" (mouseleave)="mouseLeave($event)" routerLink="/projectDetail" class="ui basic button blue manageButton1">View Project</button>
          
          </div>
        </div> -->
    </div>
    
  <footer></footer>
</div>

<div class="ui small modal">
        <i class="close icon"></i>
        <div class="header">
          Enter details for passbook
        </div>
        <div class="image content">
          <div class="ui medium image">
                <!-- <i class="black building icon" style="margin-left:100px;"></i> -->
                <img class="addPassbookImage" src="https://s.zillowstatic.com/homepage/static/Sell_a_home.png">
          </div>
          <div class="description">
                <form class="ui form">
                        <div class="field">
                          <label>Project Name</label>
                          <select name="projectName" [(ngModel)]="selectedValue" class="ui fluid dropdown">
                            <option value="">Project</option>
                            <option [ngValue]="project.id" *ngFor="let project of projectList">{{project.project_name.capitalizeEachWord()}}</option>
                          </select>
                        </div>

                        
                        <div class="field">
                          <label>Plot Allotment Number</label>
                          <input type="text" [(ngModel)]="passbookNo" name="allot_number" placeholder="Plot Allotment Number"> <button (click)="otpGenerate()" style="margin-top:10px;" class="right floated ui button blue">Generate OTP</button>
                        </div>
                       
                        <div class="field">
                          <label>OTP</label>
                          <input  [(ngModel)]="otp" type="text" name="OTP" placeholder="OTP">
                        </div>
                </form>
          </div>
        </div>
        <div class="actions">
          <div class="ui positive right labeled icon button" (click)="allotPassbook()" >
            Add Passbook
            <i class="checkmark icon"></i>
          </div>
        </div>
</div>
